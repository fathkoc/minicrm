(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{1851:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(5155),s=r(2115),l=r(5695),n=r(4741),o=r(3464);function i(){let[e,t]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[u,c]=(0,s.useState)(""),d=(0,l.useRouter)(),{user:h}=(0,n.Z)();if((0,s.useEffect)(()=>{h&&d.replace("/dashboard")},[h,d]),void 0===h)return(0,a.jsx)("p",{children:"Y\xfckleniyor..."});if(h)return null;let p=async t=>{t.preventDefault();try{await o.A.post("http://localhost:5000/api/register",{email:e,password:r}),c(" Kayıt başarılı! Giriş sayfasına y\xf6nlendiriliyorsunuz..."),setTimeout(()=>d.push("/login"),2e3)}catch(e){var a,s;c((null==(s=e.response)||null==(a=s.data)?void 0:a.msg)||"❌ Kayıt başarısız.")}};return(0,a.jsxs)("div",{className:"max-w-sm mx-auto p-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Kayıt Ol"}),u&&(0,a.jsx)("p",{className:"text-green-600 mb-2",children:u}),(0,a.jsxs)("form",{onSubmit:p,children:[(0,a.jsx)("input",{className:"w-full mb-2 p-2 border",placeholder:"E-posta",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("input",{type:"password",className:"w-full mb-2 p-2 border",placeholder:"Şifre",value:r,onChange:e=>i(e.target.value)}),(0,a.jsx)("button",{className:"w-full bg-green-600 text-white p-2",type:"submit",children:"Kayıt Ol"})]}),(0,a.jsxs)("p",{className:"mt-2",children:["Zaten bir hesabın var mı?"," ",(0,a.jsx)("a",{href:"/login",className:"text-blue-600 underline",children:"Giriş Yap"})]})]})}},4741:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>u,Z:()=>c});var a=r(5155),s=r(2115),l=r(5695);class n extends Error{}function o(e,t){let r;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");t||(t={});let a=+(!0!==t.header),s=e.split(".")[a];if("string"!=typeof s)throw new n(`Invalid token specified: missing part #${a+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(s)}catch(e){throw new n(`Invalid token specified: invalid base64 for part #${a+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new n(`Invalid token specified: invalid json for part #${a+1} (${e.message})`)}}n.prototype.name="InvalidTokenError";let i=(0,s.createContext)(null),u=e=>{let{children:t}=e,[r,n]=(0,s.useState)(void 0),u=(0,l.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("token");if(!e)return void n(null);try{let t=o(e);n(t)}catch(e){localStorage.removeItem("token"),n(null)}},[]);let c=async e=>{localStorage.setItem("token",e),n(o(e)),await u.push("/dashboard")},d=async()=>{localStorage.removeItem("token"),n(null),await u.push("/login")};return(0,a.jsx)(i.Provider,{value:{user:r,login:c,logout:d},children:t})},c=()=>{let e=(0,s.useContext)(i);if(!e)throw Error("AuthContext must be used within AuthProvider");return e}},8589:(e,t,r)=>{Promise.resolve().then(r.bind(r,1851))}},e=>{var t=t=>e(e.s=t);e.O(0,[794,441,684,358],()=>t(8589)),_N_E=e.O()}]);