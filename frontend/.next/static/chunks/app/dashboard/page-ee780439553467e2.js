(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{966:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(5155),o=r(4741),s=r(5695),a=r(2115);function l(){let{user:e,logout:t}=(0,o.Z)(),r=(0,s.useRouter)();return((0,a.useEffect)(()=>{null===e&&r.replace("/login")},[e,r]),void 0===e)?(0,n.jsx)("p",{children:"Y\xfckleniyor..."}):null===e?null:(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("h1",{className:"text-2xl font-bold mb-4",children:["Hoş geldin, ",e.email]}),(0,n.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,n.jsx)("button",{onClick:()=>r.push("/dashboard/customers"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"\uD83D\uDC65 M\xfcşteriler"}),(0,n.jsx)("button",{onClick:t,className:"bg-red-500 text-white px-4 py-2 rounded",children:"\uD83D\uDEAA \xc7ıkış Yap"})]})]})}},4741:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>u,Z:()=>c});var n=r(5155),o=r(2115),s=r(5695);class a extends Error{}function l(e,t){let r;if("string"!=typeof e)throw new a("Invalid token specified: must be a string");t||(t={});let n=+(!0!==t.header),o=e.split(".")[n];if("string"!=typeof o)throw new a(`Invalid token specified: missing part #${n+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(o)}catch(e){throw new a(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new a(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}a.prototype.name="InvalidTokenError";let i=(0,o.createContext)(null),u=e=>{let{children:t}=e,[r,a]=(0,o.useState)(void 0),u=(0,s.useRouter)();(0,o.useEffect)(()=>{let e=localStorage.getItem("token");if(!e)return void a(null);try{let t=l(e);a(t)}catch(e){localStorage.removeItem("token"),a(null)}},[]);let c=async e=>{localStorage.setItem("token",e),a(l(e)),await u.push("/dashboard")},d=async()=>{localStorage.removeItem("token"),a(null),await u.push("/login")};return(0,n.jsx)(i.Provider,{value:{user:r,login:c,logout:d},children:t})},c=()=>{let e=(0,o.useContext)(i);if(!e)throw Error("AuthContext must be used within AuthProvider");return e}},5695:(e,t,r)=>{"use strict";var n=r(8999);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},7754:(e,t,r)=>{Promise.resolve().then(r.bind(r,966))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(7754)),_N_E=e.O()}]);