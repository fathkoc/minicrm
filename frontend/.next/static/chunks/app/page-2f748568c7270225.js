(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(5155),o=r(2115),a=r(5695),s=r(4741);function l(){let{user:e}=(0,s.Z)(),t=(0,a.useRouter)();return void 0===e?(0,n.jsx)("p",{children:"Y\xfckleniyor..."}):((0,o.useEffect)(()=>{null===e?t.replace("/login"):t.replace("/dashboard")},[e,t]),null)}},3518:(e,t,r)=>{Promise.resolve().then(r.bind(r,1057))},4741:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>u,Z:()=>c});var n=r(5155),o=r(2115),a=r(5695);class s extends Error{}function l(e,t){let r;if("string"!=typeof e)throw new s("Invalid token specified: must be a string");t||(t={});let n=+(!0!==t.header),o=e.split(".")[n];if("string"!=typeof o)throw new s(`Invalid token specified: missing part #${n+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(o)}catch(e){throw new s(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new s(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}s.prototype.name="InvalidTokenError";let i=(0,o.createContext)(null),u=e=>{let{children:t}=e,[r,s]=(0,o.useState)(void 0),u=(0,a.useRouter)();(0,o.useEffect)(()=>{let e=localStorage.getItem("token");if(!e)return void s(null);try{let t=l(e);s(t)}catch(e){localStorage.removeItem("token"),s(null)}},[]);let c=async e=>{localStorage.setItem("token",e),s(l(e)),await u.push("/dashboard")},d=async()=>{localStorage.removeItem("token"),s(null),await u.push("/login")};return(0,n.jsx)(i.Provider,{value:{user:r,login:c,logout:d},children:t})},c=()=>{let e=(0,o.useContext)(i);if(!e)throw Error("AuthContext must be used within AuthProvider");return e}},5695:(e,t,r)=>{"use strict";var n=r(8999);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(3518)),_N_E=e.O()}]);