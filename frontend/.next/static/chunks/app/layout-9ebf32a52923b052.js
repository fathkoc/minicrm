(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{305:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9324,23)),Promise.resolve().then(r.bind(r,4741))},4741:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>u,Z:()=>c});var o=r(5155),n=r(2115),a=r(5695);class s extends Error{}function i(e,t){let r;if("string"!=typeof e)throw new s("Invalid token specified: must be a string");t||(t={});let o=+(!0!==t.header),n=e.split(".")[o];if("string"!=typeof n)throw new s(`Invalid token specified: missing part #${o+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(n)}catch(e){throw new s(`Invalid token specified: invalid base64 for part #${o+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new s(`Invalid token specified: invalid json for part #${o+1} (${e.message})`)}}s.prototype.name="InvalidTokenError";let l=(0,n.createContext)(null),u=e=>{let{children:t}=e,[r,s]=(0,n.useState)(void 0),u=(0,a.useRouter)();(0,n.useEffect)(()=>{let e=localStorage.getItem("token");if(!e)return void s(null);try{let t=i(e);s(t)}catch(e){localStorage.removeItem("token"),s(null)}},[]);let c=async e=>{localStorage.setItem("token",e),s(i(e)),await u.push("/dashboard")},d=async()=>{localStorage.removeItem("token"),s(null),await u.push("/login")};return(0,o.jsx)(l.Provider,{value:{user:r,login:c,logout:d},children:t})},c=()=>{let e=(0,n.useContext)(l);if(!e)throw Error("AuthContext must be used within AuthProvider");return e}},5695:(e,t,r)=>{"use strict";var o=r(8999);r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})},9324:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[533,441,684,358],()=>t(305)),_N_E=e.O()}]);